# syntax=docker/dockerfile:1

ARG BASE_IMAGE="yosai-base"
FROM ${BASE_IMAGE}

WORKDIR /app
ENV PYTHONPATH=/app:/app/yosai_intel_dashboard/src
COPY . .
EXPOSE 8000
CMD ["gunicorn", "yosai_intel_dashboard.src.services.model_serving.app:app", \
     "-k", "uvicorn.workers.UvicornWorker", "--bind", "0.0.0.0:8000", "--workers", "4"]
